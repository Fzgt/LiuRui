import{_ as f,c as X,J as l,m as e,w as r,a as t,ao as V,E as h,o as S}from"./chunks/framework.E0VnI2yM.js";const Y="/assets/a-docker-swarm-and-k8s-networking-issue-troubleshooting-and-fix-record-screenshot-01.DEDvv_-M.png",v="/assets/a-docker-swarm-and-k8s-networking-issue-troubleshooting-and-fix-record-screenshot-02.CCKKs0E4.png",g=JSON.parse('{"title":"记一次 Docker Swarm 和 K8s 网络异常的排查和解决","description":"","frontmatter":{"tags":["命令行/docker","开发/容器化/Docker","开发/云原生/Docker","软件/云原生/docker","计算机/网络","计算机/网络/网关/Nginx","计算机/网络/网关/OpenResty","软件/Wireshark","计算机/网络/抓包/Wireshark","计算机/网络/抓包","运维/云原生/Kubernetes","运维/云原生/Kubernetes/K8s","操作系统/Debian","操作系统/Debian/Debian-11","开发/容器化/Docker/Docker-Swarm","开发/云原生/Kubernetes","开发/云原生/Kubernetes/K8s"],"status":"尚未完成"},"headers":[],"relativePath":"笔记/🛠️ 开发/🕸 网络/记一次 Docker Swarm 和 K8s 网络异常的排查和解决.md","filePath":"笔记/🛠️ 开发/🕸 网络/记一次 Docker Swarm 和 K8s 网络异常的排查和解决.md"}'),U={name:"笔记/🛠️ 开发/🕸 网络/记一次 Docker Swarm 和 K8s 网络异常的排查和解决.md"},J=e("h1",{id:"记一次-docker-swarm-和-k8s-网络异常的排查和解决",tabindex:"-1"},[t("记一次 Docker Swarm 和 K8s 网络异常的排查和解决 "),e("a",{class:"header-anchor",href:"#记一次-docker-swarm-和-k8s-网络异常的排查和解决","aria-label":'Permalink to "记一次 Docker Swarm 和 K8s 网络异常的排查和解决"'},"​")],-1),c=V('<h5 id="文档版本" tabindex="-1">文档版本 <a class="header-anchor" href="#文档版本" aria-label="Permalink to &quot;文档版本&quot;">​</a></h5><table><thead><tr><th>编辑者</th><th>版本</th><th>变更日期</th><th>变更说明</th></tr></thead><tbody><tr><td>Neko</td><td>v1.0.0</td><td>2022-08-15</td><td>创建</td></tr></tbody></table><h3 id="文档兼容性" tabindex="-1">文档兼容性 <a class="header-anchor" href="#文档兼容性" aria-label="Permalink to &quot;文档兼容性&quot;">​</a></h3>',3),H=e("thead",null,[e("tr",null,[e("th",null,"主体"),e("th",null,"版本号"),e("th",null,"文档地址（如果有）")])],-1),A=e("tr",null,[e("td",null,"Debian"),e("td",null,"11/5.10.127-1/amd64"),e("td")],-1),i=e("td",null,"Docker",-1),u=e("td",null,"20.10.17",-1),b=e("td",null,"OpenResty",-1),P=e("td",null,"openresty/1.21.4.1",-1),w=e("h2",{id:"参考资料",tabindex:"-1"},[t("参考资料 "),e("a",{class:"header-anchor",href:"#参考资料","aria-label":'Permalink to "参考资料"'},"​")],-1),_=e("h2",{id:"贡献者",tabindex:"-1"},[t("贡献者 "),e("a",{class:"header-anchor",href:"#贡献者","aria-label":'Permalink to "贡献者"'},"​")],-1),z=e("h2",{id:"文件历史",tabindex:"-1"},[t("文件历史 "),e("a",{class:"header-anchor",href:"#文件历史","aria-label":'Permalink to "文件历史"'},"​")],-1);function m(p,y,x,k,D,F){const s=h("NolebasePageProperties"),d=h("VPNolebaseInlineLinkPreview"),n=h("NolebaseUnlazyImg"),o=h("NolebaseGitContributors"),a=h("NolebaseGitChangelog");return S(),X("div",null,[J,l(s),c,e("table",null,[H,e("tbody",null,[A,e("tr",null,[i,u,e("td",null,[l(d,{href:"https://docs.docker.com/",target:"_blank",rel:"noreferrer"},{default:r(()=>[t("Docker Documentation")]),_:1})])]),e("tr",null,[b,P,e("td",null,[l(d,{href:"https://openresty.org/en/",target:"_blank",rel:"noreferrer"},{default:r(()=>[t("OpenResty® - Official Site")]),_:1})])])])]),e("p",null,[l(n,{src:Y,alt:"",thumbhash:"lveBAoAsalh5d2+cht88+FhYeodwmCc=",placeholderSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAANCAYAAADISGwcAAAG1ElEQVR4AQCBAH7/AFJXYVRSV2FYUldhXlJXYWdSV2FxUldhe1JXYYNSV2GJUldhjFJXYYxSV2GKUldhh1JXYYNSV2GAUldhflJXYX9SV2GDUldhiVJXYZBSV2GYUldhoFJXYaVSV2GoUldhplJXYaBSV2GXUldhilJXYXxSV2FuUldhYlJXYVhSV2FTAIEAfv8AUldhhFJXYYhSV2GOUldhl1JXYaFSV2GrUldhs1JXYblSV2G8UldhvFJXYbpSV2G3Uldhs1JXYa9SV2GtUldhrlJXYbFSV2G2UldhvVJXYcVSV2HMUldh0VJXYdNSV2HRUldhy1JXYcFSV2G1UldhplJXYZhSV2GLUldhglJXYX0AgQB+/wBSV2HCUldhxVJXYcxSV2HVUldh31JXYelSV2HxUldh91JXYfpSV2H7Uldh+FJXYfRSV2HwUldh7FJXYelSV2HpUldh7FJXYfBSV2H3Uldh/lJXYf9SV2H/Uldh/1JXYf9SV2H/Uldh9lJXYelSV2HbUldhzFJXYb9SV2G2UldhsQCBAH7/AFJXYeVSV2HpUldh71JXYflSV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYfVSV2HmUldh2VJXYc9SV2HKAIEAfv8AUldh31JXYeNSV2HqUldh9FJXYf5SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H5Uldh6lJXYdtSV2HOUldhxFJXYb8AgQB+/wBSV2HGUldhylJXYdFSV2HbUldh5VJXYfBSV2H5Uldh/1JXYf9SV2H/Uldh/1JXYf1SV2H4Uldh8lJXYe9SV2HtUldh7lJXYfBSV2H1Uldh+lJXYf9SV2H/Uldh/1JXYf5SV2H3Uldh7FJXYd9SV2HQUldhwVJXYbRSV2GrUldhpgCBAH7/AFJXYbpSV2G+UldhxVJXYc9SV2HaUldh5VJXYe5SV2H1Uldh+VJXYfpSV2H3Uldh81JXYe1SV2HoUldh5FJXYeJSV2HjUldh5VJXYepSV2HvUldh9FJXYfdSV2H3Uldh9FJXYe1SV2HjUldh1lJXYchSV2G5UldhrVJXYaRSV2GfAIEAfv8AUldhyVJXYc1SV2HVUldh31JXYepSV2H1Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/lJXYfhSV2H0Uldh8lJXYfJSV2H1Uldh+lJXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYfZSV2HqUldh3FJXYc9SV2HDUldhulJXYbUAgQB+/wBSV2HhUldh5VJXYexSV2H2Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H4Uldh61JXYd9SV2HXUldh0gCBAH7/AFJXYdxSV2HgUldh51JXYfFSV2H8Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf5SV2H+Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYf9SV2H/Uldh/1JXYfRSV2HnUldh3VJXYdRSV2HQAIEAfv8AUldhqFJXYaxSV2GzUldhvVJXYchSV2HSUldh21JXYeFSV2HkUldh5FJXYeBSV2HaUldh01JXYc1SV2HIUldhxFJXYcRSV2HHUldhy1JXYdFSV2HXUldh3FJXYd9SV2HeUldh2lJXYdNSV2HJUldhvlJXYbJSV2GnUldhoFJXYZsAgQB+/wBSV2FaUldhXlJXYWVSV2FuUldheVJXYYNSV2GLUldhkVJXYZRSV2GSUldhjlJXYYhSV2GBUldheVJXYXRSV2FwUldhb1JXYXJSV2F2UldhfFJXYYJSV2GHUldhilJXYYpSV2GGUldhgFJXYXZSV2FrUldhYFJXYVZSV2FOUldhSgGBAH7/AFJXYR9SV2EjUldhKlJXYTNSV2E+UldhSFJXYVBSV2FWUldhWFJXYVZSV2FSUldhS1JXYUNSV2E8UldhNlJXYTJSV2ExUldhM1JXYThSV2E9UldhQ1JXYUlSV2FMUldhTFJXYUhSV2FCUldhOVJXYS5SV2EjUldhGVJXYRFSV2ENjkXz50hphB4AAAAASUVORK5CYII=",width:"3912",height:"1182",autoSizes:"true"})]),e("p",null,[l(n,{src:v,alt:"",thumbhash:"dPcFDIDQRlaKiIiHh4h4f1T6Nw==",placeholderSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAASCAYAAAA6yNxSAAAJcklEQVR4AQCBAH7/AMDE0v/Dx9X/yMza/87S4P/T1+T/1trn/9ba5//S1uP/zdHe/8jM2P/Cx9P/v8PP/77Czv++ws//wMTQ/8LG0//EydX/xsrW/8fL2P/Jzdn/zNDc/9DU4P/V2eb/29/s/+Hl8v/m6vf/6O36/+nt+v/o7Pn/5en3/+Pn9P/h5fL/AIEAfv8Av8PR/8LG1P/IzNn/ztLf/9PX5P/V2eb/1dnm/9LW4//N0d3/x8vY/8LG0v+/w8//vcHN/77Czv/AxND/wsbS/8TI1P/Gytb/x8vX/8nN2f/L0Nz/0NTg/9XZ5f/b3+v/4eXy/+bq9//p7fr/6e36/+js+f/l6vf/4+f0/+Hl8/8AgQB+/wC+ws//wcXS/8bK1//M0N3/0tbi/9TY5f/U2OX/0dXh/8zQ3P/Hy9b/wsbR/77Czv+9wcz/vcHN/7/Dz//BxdH/w8jT/8XJ1f/Hy9b/yMzY/8vP2//P09//1dnl/9vf6//h5fH/5ur2/+nt+f/q7vr/6e35/+bq9//k6PX/4ubz/wCBAH7/ALzAzP+/w8//xcnV/8vP2//Q1OD/09fj/9PX4//R1eD/zNDb/8bK1f/BxdD/vcHM/7zAy/+8wcv/vsLN/8HFz//Dx9L/xMjT/8bK1f/IzNf/ys/a/8/T3v/U2OT/29/q/+Hl8f/m6vb/6e35/+ru+v/p7fr/5+v3/+Xp9f/j5/T/AIEAfv8Aur7K/73Bzf/Dx9L/yc3Z/8/T3v/S1uL/09fi/9DU3//Lz9r/xcnU/8DEz/+9wcv/u7/K/7zAyv+9wcz/wMTO/8LG0P/Dx9L/xcnT/8fL1v/Kztn/ztLd/9TY4//a3un/4eXw/+bq9v/q7vn/6+/7/+ru+v/o7Pj/5ur2/+Xp9P8AgQB+/wC4vMf/u7/L/8HF0P/IzNf/ztLd/9HV4P/S1uH/z9Pe/8rP2f/FydP/wMTO/7zAyv+6vsn/u7/J/7zBy/+/w83/wcXP/8LH0f/EyNL/xsrU/8nN2P/N0tz/09fi/9re6f/h5fD/5ur1/+ru+f/r7/v/6+/6/+nt+f/n6/f/5er1/wCBAH7/ALa6xv+6vsn/wMTP/8fL1v/N0dz/0dXg/9HW4P/P097/ys7Z/8XJ0/+/w87/vMDK/7q+yP+6vsj/vMDK/77CzP/AxM7/wsbQ/8PH0v/FydT/yMzX/83R3P/T1+L/2d3p/+Dk7//m6vX/6u75/+vv+//r7/v/6e35/+fr9//m6vb/AIEAfv8AtbnF/7m9yP+/w87/xsrW/8zQ3P/Q1eD/0dXh/8/T3v/Kztn/xMnU/7/Dzv+7v8r/ub3I/7m+yP+7v8r/vcHM/7/Dzv/BxdD/wsbR/8TJ1P/IzNf/zNDb/9LW4f/Z3ej/3+Pv/+Xp9f/p7fn/6+/7/+vv+//p7fr/5+v4/+bq9/8AgQB+/wC0uMX/t7vI/77Cz//Fydb/zNDd/9DU4f/R1eL/z9Pf/8rO2v/EyNX/v8PP/7u/y/+5vcn/ub3J/7q+yv+8wMz/vsLO/8DE0P/CxtL/xMjU/8fL1//Lz9z/0dXi/9jc6f/e4vD/5Oj2/+js+v/q7vz/6u78/+js+v/n6/n/5en3/wCBAH7/ALK3xf+2usn/vcHP/8TI1//Lz97/0NTi/9HV4//P0+H/ys7c/8TI1v++wtD/ur7M/7i8yv+4vMr/ub3L/7u/zf+9wc//v8PR/8HF0//Dx9X/xsrY/8rO3P/Q1OL/1trp/93h8P/j5/b/5+v6/+js/P/o7Pz/5+v7/+Xp+f/k6Pj/AIEAfv8AsbXF/7W5yf+7v9D/w8fY/8rO3//P0+P/0NTl/87S4v/Jzd3/w8fX/77C0v+5vc3/t7vL/7e7y/+4vMz/ur7O/7zA0P++wtL/v8TU/8HG1v/EyNn/yc3e/87S4//V2er/29/x/+Hl9v/l6fr/5ur8/+bq/P/l6fv/4+f5/+Lm+P8AgQB+/wCvs8b/s7fK/7q+0f/Cxtn/yc3g/87S5f/P0+b/zdHk/8jM3//Cxtn/vMDT/7i8zv+1ucz/tbnM/7a6zf+4vM//u7/R/7zA0/++wtX/wMTX/8PH2v/Hy9//zdHk/9PX6//Z3fH/3+P3/+Lm+//k6P3/5Oj9/+Lm+//g5Pr/3+P4/wCBAH7/AKywxv+wtMr/t7vR/7/D2f/Hy+H/zNDl/83R5//Lz+X/xsrg/8DE2v+6vtT/trrP/7O3zf+zt83/tLjO/7e70P+5vdP/u7/V/73B1/+/w9n/wcXc/8XJ4P/Lz+b/0dXs/9fb8v/c4Pj/4OT7/+Hl/f/h5f3/3+P7/93i+v/c4Pj/AIEAfv8Aqa3G/62xyv+0uNH/vcHZ/8TI4f/Jzeb/y8/n/8nN5f/EyOD/vsLa/7i81P+zt9D/sbXN/7G1zf+yts//tLnR/7e71P+5vdb/u7/Y/73B2v/AxN3/xMjh/8nN5//P0+3/1dnz/9re+P/d4fz/3uL9/97i/f/c4Pv/2t76/9nd+P8AgQB+/wCmqsb/qq7K/7G10f+6vtn/wcXh/8fL5v/IzOj/xsrl/8HF4f+7v9r/tbnV/7G10P+vs87/rrLO/7C0z/+yttL/tbnU/7e71/+5vdn/u7/b/77C3v/CxuL/x8vo/83R7v/T1/T/19v5/9vf/P/c4P3/29/9/9nd+//X3Pr/1tr4/wCBAH7/AKOnxf+nq8n/r7PQ/7e72f+/w+H/xMjm/8bK5//EyOX/v8Ph/7m92v+zt9T/r7PQ/6ywzv+ssM7/rrLQ/7C10v+zt9X/trrY/7i82v+6vtz/vcHf/8HF4//Gyun/y8/u/9HV9P/V2fn/2Nz8/9ne/v/Z3f3/19v7/9XZ+f/U2Pj/AIEAfv8AoaXF/6Wpyf+ssdD/tbnY/73B4P/CxuX/xMjn/8LG5f+9weD/t7va/7G11P+tsdD/q6/O/6uvzv+ssND/r7PS/7K21f+0uNj/trva/7m93f+8wOD/v8Tk/8TI6f/Kzu//z9P1/9TY+f/X2/z/2Nz+/9fb/f/V2fv/09f5/9LW+P8BgQB+/wCgpMT/pKjI/6uv0P+0uNj/vMDg/8HF5f/Dx+f/wcXl/7zA4P+2utr/sLTU/6yw0P+qrs7/qq7O/6yw0P+ustP/sbXW/7S42P+2utv/uLzd/7u/4P+/w+T/xMjp/8nN7//P0/X/09f6/9ba/f/X2/7/1tr9/9TY+//S1vn/0dX4/zUjx33clhIBAAAAAElFTkSuQmCC",width:"3962",height:"2440",autoSizes:"true"})]),w,e("p",null,[l(d,{href:"https://maao.cloud/2021/01/15/%E6%B7%B1%E5%85%A5kube-proxy%20ipvs%E6%A8%A1%E5%BC%8F%E7%9A%84conn_reuse_mode%E9%97%AE%E9%A2%98/",target:"_blank",rel:"noreferrer"},{default:r(()=>[t("深入kube-proxy ipvs模式的conn_reuse_mode问题 - MAAO的博客")]),_:1})]),e("p",null,[l(d,{href:"https://joyous-x.gitbook.io/mbook/part-devops/ipvs_in_k8s",target:"_blank",rel:"noreferrer"},{default:r(()=>[t("IPVS 在 k8s 中连接保持引发的问题 - Program Life")]),_:1})]),e("p",null,[l(d,{href:"https://github.com/moby/moby/issues/35082",target:"_blank",rel:"noreferrer"},{default:r(()=>[t("[SWARM] Very poor performance for ingress network with lots of parallel requests · Issue #35082 · moby/moby")]),_:1})]),e("p",null,[l(d,{href:"https://forums.docker.com/t/overlay-network-not-working-not-working-between-two-containers-part-ii/116222/3",target:"_blank",rel:"noreferrer"},{default:r(()=>[t("Overlay network not working not working between two containers - Part II - General Discussions / General - Docker Community Forums")]),_:1})]),e("p",null,[l(d,{href:"https://github.com/moby/moby/issues/35082#issuecomment-668762331",target:"_blank",rel:"noreferrer"},{default:r(()=>[t("https://github.com/moby/moby/issues/35082#issuecomment-668762331")]),_:1})]),_,l(o),z,l(a)])}const L=f(U,[["render",m]]);export{g as __pageData,L as default};
